= Exercise 1
:icons: font

== Exercise 1: Retrieving Nodes

=== Preparations

Make sure you have the Movie database, which contains 171 nodes and 253 relationships.

This is what you should see when you click the database icon:

image::{guides}/img/InitialDatabase.png[InitialDatabase,200,200, role=left]

If your database does not have this number of nodes and relationships, you can use the script below to reset it:

[source, cypher]
----
include::scripts/initialDatabase.cypher[]
----

== Exercise Overview

In this exercise, you will perform some basic retrievals from the Movie database.

. In Part 1, you retrieve all nodes from the database.
. In Part 2, you retrieve all _Person_ nodes from the database.
. In Part 3, you retrieve all _Movie_ nodes from the database.

Go to the next page to perform the three parts of this exercise.

== Instructions, Exercise 1, Part 1
.*Retrieving all nodes*

Your first retrieval from the database is to retrieve all data in the _Movie_ database.

In the query editor pane, enter the Cypher query to retrieve all nodes from the database.

== Solution, Exercise 1, Part 1
.*Retrieving all nodes*

Your first retrieval from the database is to retrieve all data in the _Movie_ database.

*In the query editor pane, enter the Cypher query to retrieve all nodes from the database.*

[source, cypher]
----
MATCH (n) RETURN n 
----

You should now see all nodes in the graph in the result pane.
The variable _n_ is used here as a placeholder for all nodes that are retrieved and is returned for the query.

[.thumb]
image::{guides}/img/ReturnAllNodes.png[ReturnAllNodes,width-250,float="right"]

The result returned should be:

++++
<p>
++++
*Notes:* 

* If the nodes displayed are not connected, make sure that _Connect result nodes_ is selected in your Neo4j Browser settings.

* If no nodes are returned, then perhaps you did not load the _Movie_ database.
(See _Before you begin_).

++++
<div style="clear: both;"></div>
++++

Next, Part 2

== Instructions, Exercise 1, Part 2
.*Examining the schema and retrieving all _Person_ nodes*

First, you will examine the schema of the graph, then you will retrieve all _Person_ nodes in the _Movie_ database.

. In the query editor pane, enter the Cypher query to return the schema of the database.Do you see the labels in the schema of the graph?
. In the query editor pane, enter the Cypher query to retrieve all _Person_ nodes from the database.

== Solution, Exercise 1, Part 2 
.*Examining the schema and retrieving all _Person_ nodes*

First, you will examine the schema of the graph, then you will retrieve all _Person_ nodes in the _Movie_ database.

*1. In the query editor pane, enter the Cypher query to return the schema of the database.
Do you see the labels in the schema of the graph?*

[source, cypher]
----
CALL db.schema() 
----

[.thumb]
image::{guides}/img/call_db.schema.png[call_db.schema,width=300,float="right"]

The result returned should be:

++++
<div style="clear: both;"></div>
++++

*2. In the query editor pane, enter the Cypher query to retrieve all _Person_ nodes from the database.*

[source, cypher]
----
MATCH (p:Person) RETURN p 
----

[.thumb]
image::{guides}/img/PersonNodes.png[PersonNodes,width=300,float="right"]

The result returned should be:

Here we use _p_ as the variable representing all nodes retrieved and what is returned for the query.
Notice also, that no relationships are displayed.
That is because most _Person_ nodes have no relationships with other _Person_ nodes.

++++
<div style="clear: both;"></div>
++++

Next, Part 3

== Instructions, Exercise 1, Part 3
.*Retrieving all _Movie_ nodes*

Retrieve all _Movie_ nodes in the _Movie_ database.

In the query editor pane, enter the Cypher query to retrieve all _Movie_ nodes from the database.

== Solution, Exercise 1, Part 3
.*Retrieving all _Movie_ nodes*

Retrieve all _Movie_ nodes in the _Movie_ database.

*In the query editor pane, enter the Cypher query to retrieve all _Movie_ nodes from the database.*

[source, cypher]
----
MATCH (m:Movie) RETURN m 
----

[.thumb]
image::{guides}/img/MovieNodes.png[MovieNodes,width=300,float="right"]

The result returned should be:

Here we use _m_ as the variable representing all nodes retrieved and what is returned for the query.
Notice also, that no relationships are displayed.
That is because a _Movie_ node has no relationships with another _Movie_ node.

++++
<div style="clear: both;"></div>
++++

== Exercise Summary


In this exercise, you performed some basic retrievals from the Movie database.
You also called the method to examine the schema of the graph.


pass:a[<a play-topic='{guides}/02.html'>Continue to Exercise 2</a>]
