<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<title>Getting More Out of Neo4j</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Getting More Out of Neo4j</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_about_this_module">About this module</a></li>
<li><a href="#_cypher_parameters">Cypher parameters</a>
<ul class="sectlevel2">
<li><a href="#_using_cypher_parameters">Using Cypher parameters</a></li>
<li><a href="#_exercise_12_using_cypher_parameters"><strong>Exercise 12: Using Cypher parameters</strong></a></li>
</ul>
</li>
<li><a href="#_analyzing_cypher_execution">Analyzing Cypher execution</a></li>
<li><a href="#_monitoring_queries">Monitoring queries</a>
<ul class="sectlevel2">
<li><a href="#_exercise_13_analyzing_and_monitoring_queries"><strong>Exercise 13: Analyzing and monitoring queries</strong></a></li>
</ul>
</li>
<li><a href="#_managing_constraints_and_node_keys">Managing constraints and node keys</a>
<ul class="sectlevel2">
<li><a href="#_ensuring_that_a_property_value_for_a_node_is_unique">Ensuring that a property value for a node is unique</a></li>
<li><a href="#_ensuring_that_properties_exist">Ensuring that properties exist</a></li>
<li><a href="#_retrieving_constraints_defined_for_the_graph">Retrieving  constraints defined for the graph</a></li>
<li><a href="#_dropping_constraints">Dropping constraints</a></li>
<li><a href="#_creating_node_keys">Creating node keys</a></li>
<li><a href="#_exercise_14_managing_constraints_and_node_keys"><strong>Exercise 14: Managing constraints and node keys</strong></a></li>
</ul>
</li>
<li><a href="#_managing_indexes">Managing indexes</a>
<ul class="sectlevel2">
<li><a href="#_indexes_for_range_searches">Indexes for range searches</a></li>
<li><a href="#_creating_indexes">Creating indexes</a></li>
<li><a href="#_retrieving_indexes">Retrieving indexes</a></li>
<li><a href="#_dropping_indexes">Dropping indexes</a></li>
<li><a href="#_exercise_15_managing_indexes"><strong>Exercise 15: Managing indexes</strong></a></li>
</ul>
</li>
<li><a href="#_going_from_relational_to_graph_with_neo4j">Going from relational to graph with Neo4j</a></li>
<li><a href="#_importing_data">Importing data</a>
<ul class="sectlevel2">
<li><a href="#_importing_normalized_data_using_load_csv">Importing normalized data using <code>LOAD CSV</code></a></li>
<li><a href="#_importing_denormalized_data">Importing denormalized data</a></li>
<li><a href="#_importing_a_large_dataset">Importing a large dataset</a></li>
<li><a href="#_exercise_16_importing_data"><strong>Exercise 16: Importing data</strong></a></li>
</ul>
</li>
<li><a href="#_accessing_neo4j_resources">Accessing Neo4j resources</a></li>
<li><a href="#_check_your_understanding">Check your understanding</a>
<ul class="sectlevel2">
<li><a href="#_question_1">Question 1</a></li>
<li><a href="#_question_2">Question 2</a></li>
<li><a href="#_question_3">Question 3</a></li>
</ul>
</li>
<li><a href="#_summary">Summary</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
	<script type='text/javascript'>
	var loc = window.location;
	if (loc.hostname == "neo4j.com" && loc.search.indexOf("aliId=") == -1 ) {
	 loc.pathname = "/graphacademy/online-training/XXXX/"
	}
	document.write(unescape("%3Cscript src='//munchkin.marketo.net/munchkin.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script>Munchkin.init('773-GON-065');</script>
</div>
</div>
<div class="sect1">
<h2 id="_about_this_module">About this module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You have learned how to set up your development environment for accessing a Neo4j graph and how to write basic Cypher statements for querying the graph modifying the graph.</p>
</div>
<div class="paragraph">
<p>At the end of this module, you should be able to:</p>
</div>
<div class="ulist square">
<ul class="square">
<li>
<p>Use parameters in your Cypher statements.</p>
</li>
<li>
<p>Analyze Cypher execution.</p>
</li>
<li>
<p>Monitor queries.</p>
</li>
<li>
<p>Manage constraints and node keys for the graph.</p>
</li>
<li>
<p>Import data into a graph from CSV files.</p>
</li>
<li>
<p>Manage indexes for the graph.</p>
</li>
<li>
<p>Access Neo4j resources.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cypher_parameters">Cypher parameters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In a deployed application, you should not <strong>hard code</strong>  values in your Cypher statements. You use a variety values when you are testing your Cypher statements.  But you don&#8217;t want to change the Cypher statement every time you test. In addition, you typically include  Cypher statements in an application where parameters are passed in to the Cypher statement before it executes. For these scenarios, you should parameterize values in your Cypher statements.</p>
</div>
<div class="sect2">
<h3 id="_using_cypher_parameters">Using Cypher parameters</h3>
<div class="paragraph">
<p>In your Cypher statements, a parameter name begins with the <code>$</code> symbol.</p>
</div>
<div class="paragraph">
<p>Here is an example where we have parameterized the query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MATCH (p:Person)-[:ACTED_IN]-&gt;(m:Movie)
WHERE p.name = $actorName
RETURN m.released, m.title ORDER BY m.released DESC</pre>
</div>
</div>
<div class="paragraph">
<p>At runtime, if the parameter <code>$actorName</code> has a value, it will be used in the Cypher statement when it runs in the graph engine.</p>
</div>
<div class="paragraph">
<p>In Neo4j Browser, you can set values for Cypher parameters that will be in effect during your session.</p>
</div>
<div class="paragraph">
<p>You can set the value of a single parameter in the query editor pane as shown in this example where the value <em>Tom Hanks</em> is set for the parameter <code>actorName</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:param actorName =&gt; 'Tom Hanks'</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You can even specify a Cypher expression to the right of <code>=&gt;</code> to set the value of the parameter.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Here is the result of executing the <code>:param</code> command:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/SetActorNameParameter.png" alt="SetActorNameParameter" width="600">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Notice here that <code>:param</code> is a client-side browser command. It takes a name and expression and stores the value of that expression for the name in the session.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>After the <em>actorName</em> parameter is set, you can run the query that uses the parameter:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/UseParameter.png" alt="UseParameter" width="800">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Subsequently, you need only change the value of the parameter and not the Cypher statement to test with different values.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>After we have changed the <em>actorName</em> parameter to 'Tom Cruise', we get a different result with the same Cypher query:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/TomCruiseParameter.png" alt="TomCruiseParameter" width="800">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>You can also use the JSON-style syntax to set <span class="underline">all</span> of the parameters in your Neo4j Browser session. The values you can specify in this object are numbers, strings, and booleans. In this example we set two parameters for our session:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:params {actorName: 'Tom Cruise', movieName: 'Top Gun'}</pre>
</div>
</div>
<div class="paragraph">
<p>With the result:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/SetAllParameters.png" alt="SetAllParameters" width="600">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If you want to remove an existing parameter from your session, you do by by using the JSON-style syntax and excluding the parameter for your session.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If you want to view the current parameters and their values, simply type <code>:params</code>:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/ViewParams.png" alt="ViewParams" width="500">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_exercise_12_using_cypher_parameters"><strong>Exercise 12: Using Cypher parameters</strong></h3>
<div class="paragraph">
<p>In the query edit pane of Neo4j Browser, execute the browser command: <kbd>:play intro-neo4j-exercises</kbd>
and follow the instructions for Exercise 12.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_analyzing_cypher_execution">Analyzing Cypher execution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>Movie</em> graph that you have been using during training is a very small graph. As you start working with large datasets, it will be important to not only add appropriate indexes to your graph, but also write Cypher statements that execute as efficiently as possible.</p>
</div>
<div class="paragraph">
<p>There are two Cypher keywords you can prefix a Cypher statement with to analyze a query:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>EXPLAIN</code> provides estimates of the graph engine processing that will occur, but does not execute the Cypher statement.</p>
</li>
<li>
<p><code>PROFILE</code> provides real profiling information for what has occurred in the graph engine during the query and executes the Cypher statement.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>EXPLAIN</code> option provides the Cypher query plan. You can compare different Cypher statements to understand the stages of processing that will occur when the Cypher executes.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Here is an example where we have set the <em>actorName</em> and <em>year</em> parameters for our session and we execute this Cypher statement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>EXPLAIN MATCH (p:Person)-[:ACTED_IN]-&gt;(m:Movie)
WHERE p.name = $actorName AND
      m.released &lt;  $year
RETURN p.name, m.title, m.released</pre>
</div>
</div>
<div class="paragraph">
<p>Here is the query plan returned:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/EXPLAIN.png" alt="EXPLAIN" width="900">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You can expand each phase of the Cypher execution to examine what code is expected to run. Each phase of the query presents you with an estimate of the number of rows expected to be returned. With <code>EXPLAIN</code>, the query does not run, the graph engine simply produces the query plan.</p>
</div>
<div class="paragraph">
<p>For a better metric for analyzing how the Cypher statement will run you use the <code>PROFILE</code> keyword which runs the Cypher statement and gives you run-time performance metrics.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Here is the result returned using <code>PROFILE</code> for this Cypher statement:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/PROFILE1.png" alt="PROFILE1" width="900">
</div>
</div>
<div class="paragraph">
<p>Here we see that for each phase of the graph engine processing, we can view the cache hits and most importantly the number of times the graph engine accessed the database (db hits). This is an important metric that will affect the performance of the Cypher statement at run-time.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For example, if we were to change the Cypher statement so that the node labels are not specified, we see these metrics when we profile:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/PROFILE2.png" alt="PROFILE2" width="900">
</div>
</div>
<div class="paragraph">
<p>Here we see more db hits which makes sense because all nodes need to be scanned for perform this query.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_queries">Monitoring queries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are testing an application and have run several queries against the graph, there may be times when your Neo4j Browser session hangs with what seems to be a very long-running query. There are two reasons why a Cypher query may take a long time:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The query returns a lot of data. The query completes execution in the graph engine, but it takes a long time to create the result stream.</p>
<div class="ulist">
<ul>
<li>
<p>Example: <code>MATCH (a)--(b)--(c)--(d)--(e)--(f) RETURN a</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>The query takes a long time to execute in the graph engine.</p>
<div class="ulist">
<ul>
<li>
<p>Example: <code>MATCH (a), (b), (c), (d), (e) RETURN count(id(a))</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the query executes and then <strong>returns a lot of data</strong>, there is no way to monitor it or kill the query. All that you can do is close your Neo4j Browser session and start a new one. If the server has many of these <strong>rogue</strong> queries running, it will slow down considerably so you should aim to limit these types of queries. If you are running Neo4j Desktop, you can simply restart the database to clear things up, but if you are using a Neo4j Sandbox, you cannot do so. The database server is always running and you cannot restart it. Your only option is to shut down the Neo4j Sandbox and create a new Neo4j Sandbox, but then you lose any data you have worked with.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If, however, the query is a <strong>long-running query</strong>, you can monitor it by using the <code>:queries</code> command. Here is a screenshot where we are monitoring a long-running query in another Neo4j Browser session:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/ListQueries.png" alt="ListQueries" width="1000">
</div>
</div>
<div class="paragraph">
<p>The <code>:queries</code> command calls <code>dbms.listQueries</code> under the hood, which is why we see two queries here. We have turned on <strong>AUTO-REFRESH</strong> so we can monitor the number of ms used by the graph engine thus far. You can kill the running query by double-clicking the icon in the <em>Kill</em> column. Alternatively, you can execute the statement <code>CALL dbms.killQuery('query-id')</code>.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/KillQuery.png" alt="KillQuery" width="1000">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Here is what happens in the Neo4j Browser session where the long-running query was run:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/QueryKilled.png" alt="QueryKilled" width="1000">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The <code>:queries</code> command is only available in the Enterprise Edition of Neo4j.
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_exercise_13_analyzing_and_monitoring_queries"><strong>Exercise 13: Analyzing and monitoring queries</strong></h3>
<div class="paragraph">
<p>In the query edit pane of Neo4j Browser, execute the browser command: <kbd>:play intro-neo4j-exercises</kbd>
and follow the instructions for Exercise 13.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_managing_constraints_and_node_keys">Managing constraints and node keys</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You have seen that you can accidentally create duplicate nodes in the graph if you&#8217;re not protected. In most graphs, you will want to prevent duplication of data.  Unfortunately, you cannot  prevent duplication by checking the existence of the exact node (with properties) as this type of test is not cluster or multi-thread safe as no locks are used. This is one reason why <code>MERGE</code> is preferred over <code>CREATE</code>, because <code>MERGE</code> does use locks.</p>
</div>
<div class="paragraph">
<p>In addition, you have learned that a node or relationship need not have a particular property. What if you want to ensure that all nodes or relationships of a specific type (label) <span class="underline">must</span> set values for certain properties?</p>
</div>
<div class="paragraph">
<p>A third scenario with graph data is where you want to ensure that a set of property values for nodes of the same type, have a unique value. This is the same thing as a primary key in a relational database.</p>
</div>
<div class="paragraph">
<p>All of these scenarios are common in many graphs. In Neo4j, you can use Cypher to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a <em>uniqueness constraint</em> that ensures that a value for a property is unique for all nodes of that type.</p>
</li>
<li>
<p>Add an <em>existence constraint</em> that ensures that when a node or relationship is created or modified, it must have certain properties set.</p>
</li>
<li>
<p>Add a <em>node key</em> that ensures that a set of values for properties of a node of a given type is unique.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Constraints and node keys that enforce uniqueness are related to indexes which you will learn about later in this module.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Existence constraints and node keys are only available in Enterprise Edition of Neo4j.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_ensuring_that_a_property_value_for_a_node_is_unique">Ensuring that a property value for a node is unique</h3>
<div class="paragraph">
<p>You add a uniqueness constraint to the graph by creating a constraint that asserts that a particular node property is unique in the graph for a particular type of node.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Here is an example for ensuring that the <em>title</em> for a node of type <em>Movie</em> is unique:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CREATE CONSTRAINT ON (m:Movie) ASSERT m.title IS UNIQUE</pre>
</div>
</div>
<div class="paragraph">
<p>This Cypher statement will fail if the graph already has multiple <em>Movie</em> nodes with the same value for the <em>title</em> property. Note that you can create a uniqueness constraint, even if some <em>Movie</em> nodes do <span class="underline">not</span> have a <em>title</em> property.</p>
</div>
<div class="paragraph">
<p>Here is the result of running this Cypher statement on the <em>Movie</em> graph:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/AddTitleConstraint.png" alt="AddTitleConstraint" width="500">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>And if we attempt to create a <em>Movie</em> with the <em>title</em>, <em>The Matrix</em>, the Cypher statement will fail because the graph already has a movie with that title:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CREATE (:Movie {title: 'The Matrix'})</pre>
</div>
</div>
<div class="paragraph">
<p>Here is the result of running this Cypher statement on the <em>Movie</em> graph:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/UniquenessFailed.png" alt="UniquenessFailed" width="700">
</div>
</div>
<div class="paragraph">
<p>In addition, if you attempt to modify the value of a property where the uniqueness assertion fails, the property will not be updated.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_ensuring_that_properties_exist">Ensuring that properties exist</h3>
<div class="paragraph">
<p>Having uniqueness for a property value is only useful in the graph if the property exists. In most cases, you will want your graph to also enforce the existence of properties, not only for those node properties that require uniqueness, but for other nodes and relationships where you require a property to be set. Uniqueness constraints can only be created for nodes, but existence constraints can be created for node or relationship properties.</p>
</div>
<div class="paragraph">
<p>You add an existence constraint to the graph by creating a constraint that asserts that a particular type of node or relationship property must exist in the graph when a node or relationship of that type is created or updated.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Recall that in the <em>Movie</em> graph, the movie, <em>Something&#8217;s Gotta Give</em> has no <em>tagline</em> property:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/NoTaglineSomething.png" alt="NoTaglineSomething" width="600">
</div>
</div>
<div class="paragraph">
<p>Here is an example for adding the existence constraint to the <em>tagline</em> property of all <em>Movie</em> nodes in the graph:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CREATE CONSTRAINT ON (m:Movie) ASSERT exists(m.tagline)</pre>
</div>
</div>
<div class="paragraph">
<p>Here is the result of running this Cypher statement:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/ConstraintExistTaglineFailure.png" alt="ConstraintExistTaglineFailure" width="800">
</div>
</div>
<div class="paragraph">
<p>The constraint cannot be added to the graph because a node has been detected that violates the constraint.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>We know that in the <em>Movie</em> graph, all <em>:REVIEWED</em> relationships currently have a property, <em>rating</em>. We can create an existence constraint on that property as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CREATE CONSTRAINT ON ()-[rel:REVIEWED]-() ASSERT exists(rel.rating)</pre>
</div>
</div>
<div class="paragraph">
<p>Notice that when you create the constraint on a relationship, you need not specify the direction of the relationship.
With the result:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/CreateRatingExistenceConstraint.png" alt="CreateRatingExistenceConstraint" width="600">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>So after creating this constraint, if we attempt to create a <em>:REVIEWED</em> relationship without setting the <em>rating</em> property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MATCH (p:Person), (m:Movie)
WHERE p.name = 'Jessica Thompson' AND
	  m.title = 'The Matrix'
MERGE (p)-[:REVIEWED {summary: 'Great movie!'}]-&gt;(m)</pre>
</div>
</div>
<div class="paragraph">
<p>We see this error:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/ExistenceConstraintFailed.png" alt="ExistenceConstraintFailed" width="800">
</div>
</div>
<div class="paragraph">
<p>You will also see this error if you attempt to remove a property from a node or relationship where the existence constraint has been created in the graph.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_retrieving_constraints_defined_for_the_graph">Retrieving  constraints defined for the graph</h3>
<div class="paragraph">
<p>You can run the browser command <code>:schema</code> to view existing indexes and constraints defined for the graph.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Just as you have used other <em>db</em> related methods to query the schema of the graph, you can query for the set of constraints defined in the graph as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CALL db.constraints()</pre>
</div>
</div>
<div class="paragraph">
<p>And here is what is returned from the graph:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/call_db_constraints.png" alt="call_db_constraints" width="700">
</div>
</div>
<div class="paragraph">
<p><strong>Note</strong>: Using the method notation for the CALL statement enables you to use the call for returning results that may be used later in the Cypher statement.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_dropping_constraints">Dropping constraints</h3>
<div class="paragraph">
<p>You use similar syntax to drop an existence or uniqueness constraint, except that you use the <code>DROP</code> keyword rather than <code>CREATE</code></p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Here we drop the existence constraint for the <em>rating</em> property for all <em>REVIEWED</em> relationships in the graph:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DROP CONSTRAINT ON ()-[rel:REVIEWED]-() ASSERT exists(rel.rating)</pre>
</div>
</div>
<div class="paragraph">
<p>With the result:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/DropConstraint.png" alt="DropConstraint" width="600">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_creating_node_keys">Creating node keys</h3>
<div class="paragraph">
<p>A node key is used to define the uniqueness constraint for <span class="underline">multiple</span> properties of a node of a certain type. A node key is  also used as a composite index in the graph.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Suppose that in our <em>Movie</em> graph, we will not allow a <em>Person</em> node to be created where both the <em>name</em> and <em>born</em> properties are the same. We can create a constraint that will be a node key to ensure that this uniqueness for the set of properties is asserted.</p>
</div>
<div class="paragraph">
<p>Here is an example to create this node key:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CREATE CONSTRAINT ON (p:Person) ASSERT (p.name, p.born) IS NODE KEY</pre>
</div>
</div>
<div class="paragraph">
<p>Here is the result of running this Cypher statement on our <em>Movie</em> graph:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/NodeKeyCreationFailed.png" alt="NodeKeyCreationFailed" width="800">
</div>
</div>
<div class="paragraph">
<p>This attempt to create the constraint failed because there are <em>Person</em> nodes in the graph that do not have the <em>born</em> property defined.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If we set these properties for all nodes in the graph that do not have <em>born</em> properties with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MATCH (p:Person)
WHERE NOT exists(p.born)
SET p.born = 0</pre>
</div>
</div>
<div class="paragraph">
<p>Then the creation of the node key succeeds:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/CreateNodeKey.png" alt="CreateNodeKey" width="700">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Any subsequent attempt to create or modify an existing <em>Person</em> node with <em>name</em> or <em>born</em> values that violate the uniqueness constraint as a node key will fail.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For example, executing this Cypher statement will fail:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CREATE (:Person {name: 'Jessica Thompson', born: 0})</pre>
</div>
</div>
<div class="paragraph">
<p>Here is the result:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/CreateDuplicateJessicaFailure.png" alt="CreateDuplicateJessicaFailure" width="800">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_exercise_14_managing_constraints_and_node_keys"><strong>Exercise 14: Managing constraints and node keys</strong></h3>
<div class="paragraph">
<p>In the query edit pane of Neo4j Browser, execute the browser command: <kbd>:play intro-neo4j-exercises</kbd>
and follow the instructions for Exercise 14.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_managing_indexes">Managing indexes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The uniqueness and node key constraints that you add to a graph are essentially single-property and composite indexes respectively. Indexes are used to improve initial node lookup performance, but they require additional storage in the graph to maintain and also add to the cost of creating or modifying property values that are indexed. Indexes store redundant data that points to nodes with the specific property value or values. Unlike SQL, there is no such thing as a primary key in Neo4j. You can have multiple properties on nodes that must be unique.</p>
</div>
<div class="paragraph">
<p>Here is a brief summary of when single-property and composite indexes are used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Equality checks <code>=</code></p>
</li>
<li>
<p>Range comparisons <code>&gt;</code>,<code>&gt;=</code>,<code>&lt;</code>, <code>&lt;=</code></p>
</li>
<li>
<p>List membership <code>IN</code></p>
</li>
<li>
<p>String comparisons <code>STARTS WITH</code>, <code>ENDS WITH</code>, <code>CONTAINS</code></p>
</li>
<li>
<p>Existence checks <code>exists()</code></p>
</li>
<li>
<p>Spatial distance searches <code>distance()</code></p>
</li>
<li>
<p>Spatial bounding searches <code>point()</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In this module, we introduce the basics of Neo4j indexes, but you should consult the Neo4j <em>Operations Manual</em> for more details about creating and maintaining indexes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Because index maintenance incurs additional overhead when nodes are created, We recommend that for large graphs, indexes are created after the data has been loaded into the graph. You can view the progress of the creation of an index when you use the <code>:schema</code> command.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_indexes_for_range_searches">Indexes for range searches</h3>
<div class="paragraph">
<p>When you add an index for a property of a node, it can greatly reduce the number of nodes the graph engine needs to visit in order to satisfy a query.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>In this query we are testing the value of the <em>released</em> property of a <em>Movie</em> node using ranges:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MATCH (m:Movie)
WHERE 1990 &lt; m.released &lt; 2000
SET m.videoFormat = 'DVD'</pre>
</div>
</div>
<div class="paragraph">
<p>The graph engine, using an index, will find the pointers to all nodes that satisfy the query without having to visit all of the nodes:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/IndexForRanges.png" alt="IndexForRanges" width="600">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_creating_indexes">Creating indexes</h3>
<div class="paragraph">
<p>You create an index to improve graph engine performance. A unique constraint on a property is an index so you need not create an index for any properties you have created uniqueness constraints for. An index on its own does <span class="underline">not</span> guarantee uniqueness.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Here is an example of how we would create a single-property index on the <em>released</em> property of all nodes of type <em>Movie</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CREATE INDEX ON :Movie(released)</pre>
</div>
</div>
<div class="paragraph">
<p>With the result:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/CreateSingle-propertyIndex.png" alt="CreateSingle-propertyIndex" width="600">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If a set of properties for a node must be unique for every node, then you should create a constraint as a node key, rather than an index.</p>
</div>
<div class="paragraph">
<p>If, however, there can be duplication for a set of property values, but you want faster access to them, then you can create a composite index. A composite index is based upon multiple properties for a node.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Suppose we added the property, <em>videoFormat</em> to every <em>Movie</em> node and set its value, based upon the released date of the movie as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MATCH (m:Movie)
WHERE m.released &gt;= 2000
SET m.videoFormat = 'DVD';
MATCH (m:Movie)
WHERE m.released &lt; 2000
SET m.videoFormat = 'VHS'</pre>
</div>
</div>
<div class="paragraph">
<p>With the result:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/TwoStatements.png" alt="TwoStatements" width="900">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Notice that in the above Cypher statements we use the semi-colon <code>;</code> to separate Cypher statements. In general, you need not end a Cypher statement with a semi-colon, but if you want to execute multiple Cypher statements, you must separate them. You have already used the semi-colon to separate Cypher statements when you loaded the <em>Movie</em> database in the training exercises.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Now that the graph has <em>Movie</em> nodes with both the properties, <em>released</em> and <em>videoFormat</em>, we can create a composite index on these properties as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CREATE INDEX ON :Movie(released, videoFormat)</pre>
</div>
</div>
<div class="paragraph">
<p>With the result:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/CreateCompositeIndex.png" alt="CreateCompositeIndex" width="500">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_retrieving_indexes">Retrieving indexes</h3>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Just as you can retrieve the constraints defined for the graph using <code>:schema</code> or <code>CALL db.constraints()</code>, you can retrieve the indexes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CALL db.indexes()</pre>
</div>
</div>
<div class="paragraph">
<p>With the result:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/Call_db-indexes.png" alt="Call_db-indexes" width="1000">
</div>
</div>
<div class="paragraph">
<p>Notice that the unique constraints and node keys are also shown as indexes in the graph.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_dropping_indexes">Dropping indexes</h3>
<div class="paragraph">
<p>You can drop an existing index that you created with  <code>CREATE INDEX</code>.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Here is an example of dropping the composite index that we just created:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DROP INDEX ON :Movie(released, videoFormat)</pre>
</div>
</div>
<div class="paragraph">
<p>Here is the result:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/DropCompositeIndex.png" alt="DropCompositeIndex" width="600">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_exercise_15_managing_indexes"><strong>Exercise 15: Managing indexes</strong></h3>
<div class="paragraph">
<p>In the query edit pane of Neo4j Browser, execute the browser command: <kbd>:play intro-neo4j-exercises</kbd>
and follow the instructions for Exercise 15.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_going_from_relational_to_graph_with_neo4j">Going from relational to graph with Neo4j</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this video, you will learn how developers use Neo4j for implementing all or part of their relational models.</p>
</div>
<iframe width="560" height="315" src="https://www.youtube.com/embed/NO3C-CWykkY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
</div>
<div class="sect1">
<h2 id="_importing_data">Importing data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In many applications, it is the case that the data that you want to populate your graph with comes from data that was written to <em>.csv</em> files or files of other types. There are many nuances and best practices for loading data into a graph from files. In this module, you will be introduced to some simple steps for loading CSV data into your graph with Cypher. If you are interested in direct loading of data from a relational DBMS into a graph, you should read about the Neo4j Extract Transform Load (ETL) tool at <a href="http://neo4j.com/developer/neo4j-etl/" class="bare">http://neo4j.com/developer/neo4j-etl/</a>, as well as many of the useful pre-written procedures that are available for your use in the APOC library.</p>
</div>
<div class="paragraph">
<p>In Cypher, you can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Load data from a URL (http(s) or file).</p>
</li>
<li>
<p>Process data as a stream of records.</p>
</li>
<li>
<p>Create or update the graph with the data being loaded.</p>
</li>
<li>
<p>Use transactions during the load.</p>
</li>
<li>
<p>Transform and convert values from the load stream.</p>
</li>
<li>
<p>Load up to 10M nodes and relationships.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>CSV import is commonly used to import data into a graph. If you want to import data from CSV, you will need to first develop a model that describes how data from your CSV maps to data in your graph.</p>
</div>
<div class="sect2">
<h3 id="_importing_normalized_data_using_load_csv">Importing normalized data using <code>LOAD CSV</code></h3>
<div class="paragraph">
<p>Cypher provides an elegant built-in way to import tabular CSV data into graph structures.</p>
</div>
<div class="paragraph">
<p>The <code>LOAD CSV</code> clause parses a local in the <strong>import</strong> directory of your Neo4j installation or a remote file into a stream of rows which represent maps (with headers) or lists.
Then you can use whichever Cypher operations you want to either create nodes or relationships or to merge with the existing graph.</p>
</div>
<div class="paragraph">
<p></p>
</div>
<table class="tableblock frame-all grid-all stripes-none stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><span class="red">Here is the simplified syntax for using <code>LOAD CSV</code>:</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="literal"><pre>LOAD CSV WITH HEADERS FROM url-value
AS row        // row is a variable that is used to extract data</pre></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The first line of the file must contain a comma-separated list of column names. The <em>url-value</em> can be a resource or a file on your system. Each line contains data that is interpreted as values for each column name. When each line is read from the file, you can perform the necessary processing to create or merge data into the graph.</p>
</div>
<div class="paragraph">
<p>As CSV files usually represent either node or relationship lists, you will run multiple passes to create nodes and relationships separately.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <strong>movies_to_load.csv</strong> file (sample below) contains the data that will add <em>Movie</em> nodes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>id,title,country,year,summary
1,Wall Street,USA,1987, Every dream has a price.
2,The American President,USA,1995, Why can't the most powerful man in the world have the one thing he wants most?
3,The Shawshank Redemption,USA,1994, Fear can hold you prisoner. Hope can set you free.</pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Before you load data from CSV files into your graph, you should first confirm that the data retrieved looks OK. Rather than creating nodes or relationships, you can simply return information about the data to be loaded.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For example you can execute this Cypher statement to get a count of the data to be loaded from the <strong>movies_to_load.csv</strong> file so you have an idea of how much data will be loaded:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>LOAD CSV WITH HEADERS
FROM 'http://data.neo4j.com/intro-neo4j/movies_to_load.csv'
AS line
RETURN count(*)</pre>
</div>
</div>
<div class="paragraph">
<p>Here is the count result for this particular file:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/countOfMoviesToLoad.png" alt="countOfMoviesToLoad" width="900">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>You might even want to visually inspect the data before you load it to see if it is what you were expecting:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>LOAD CSV WITH HEADERS
FROM 'https://data.neo4j.com/intro-neo4j/movies_to_load.csv'
AS line
RETURN * LIMIT 1</pre>
</div>
</div>
<div class="paragraph">
<p>Here is the result of running the Cypher statement to visually inspect the data:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/examineMoviesBeforeLoad.png" alt="examineMoviesBeforeLoad" width="900">
</div>
</div>
<div class="paragraph">
<p>Notice here that the <em>summary</em> column&#8217;s data has an extra space before the data in the file. In order to ensure that all <em>tagline</em> values in our graph do not have an extra space, we will trim the value before assigning it to the tagline property. Once we are sure you want to load the data into your graph, we do so by assigning values from each row read in to a new node.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>You may want to format the data before it is loaded to confirm it matches what you want in your graph:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>LOAD CSV WITH HEADERS
FROM 'http://data.neo4j.com/intro-neo4j/movies_to_load.csv'
AS line
RETURN line.id, line.title, toInteger(line.year), trim(line.summary)</pre>
</div>
</div>
<div class="paragraph">
<p>Here we see how the data will be formatted before it is loaded:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/FormatMovieDataBeforeLoad.png" alt="FormatMovieDataBeforeLoad" width="900">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The following query creates the <em>Movie</em> nodes using some of the data from <strong>movies_to_load.csv</strong> as properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">LOAD CSV WITH HEADERS
FROM 'https://data.neo4j.com/intro-neo4j/movies_to_load.csv'
AS line
CREATE (movie:Movie { movieId: line.id, title: line.title, released: toInteger(line.year) , tagline: trim(line.summary)})</code></pre>
</div>
</div>
<div class="paragraph">
<p>We assign a value to <em>movieId</em> from the <em>id</em> data in the CSV file. In addition, we assign the data from <em>summary</em> to the <em>tagline</em> property, with a trim. We also convert the data read from  <em>year</em> to an integer using the built-in function <code>toInteger()</code> before assigning it to the <em>released</em> property.</p>
</div>
<div class="paragraph">
<p>Here is the result of loading the <strong>movies_to_load. csv</strong> data into the graph:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/loadMovies.png" alt="loadMovies" width="900">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <strong>persons_to_load.csv</strong> file (sample below) holds the data that will populate the <em>Person</em> nodes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Id,name,birthyear
1,Charlie Sheen, 1965
2,Oliver Stone, 1946
3,Michael Douglas, 1944
4,Martin Sheen, 1940
5,Morgan Freeman, 1937</pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>In case you already have people in your database, you will want to avoid creating duplicates.
That&#8217;s why instead of just creating them, we use <code>MERGE</code> to ensure unique entries after the import.
We use the <code>ON CREATE</code> clause to set the values for <em>name</em> and <em>born</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">LOAD CSV WITH HEADERS
FROM 'https://data.neo4j.com/intro-neo4j/persons_to_load.csv'
AS line
MERGE (actor:Person { personId: line.Id })
ON CREATE SET actor.name = line.name,
              actor.born = toInteger(trim(line.birthyear))</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are a couple of things to note here. The name of the column is case-sensitive. In addition, notice that the data for the birthyear column as an extra space before the data. To allow this data to be converted to an integer, we must first trim the whitespace using the <code>trim()</code> built-in function.</p>
</div>
<div class="paragraph">
<p>Here is the result of loading the <strong>persons_to_load. csv</strong> data into the graph:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/loadPersons.png" alt="loadPersons" width="700">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The <strong>roles_to_load.csv</strong> file (sample below) holds the data that will populate the relationships between the nodes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>personId,movieId,role
1,1,Bud Fox
4,1,Carl Fox
3,1,Gordon Gekko
4,2,A.J. MacInerney
3,2,President Andrew Shepherd
5,3,Ellis Boyd 'Red' Redding</pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The query below matches the entries of <em>line.personId</em> and <em>line.movieId</em> to their respective <em>Movie</em> and <em>Person</em> nodes, and creates an <em>ACTED_IN</em> relationship between the person and the movie.
This model includes a relationship property of <em>role</em>, which is passed via <em>line.role</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">LOAD CSV WITH HEADERS
FROM 'https://data.neo4j.com/intro-neo4j/roles_to_load.csv'
AS line
MATCH (movie:Movie { movieId: line.movieId })
MATCH (person:Person { personId: line.personId })
CREATE (person)-[:ACTED_IN { roles: [line.role]}]-&gt;(movie)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is the result of loading the <strong>roles_to_load. csv</strong> data into the graph:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/loadRoles.png" alt="loadRoles" width="900">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_importing_denormalized_data">Importing denormalized data</h3>
<div class="paragraph">
<p>If your file contains denormalized data, you can run the same file with multiple passes and simple operations as shown above. Alternatively, you might have to use <code>MERGE</code> to create nodes and relationships uniquely.</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For our use case, we can import the data using a CSV structure like this:</p>
</div>
<div class="paragraph">
<p><strong>movie_actor_roles_to_load.csv</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>title;released;summary;actor;birthyear;characters
Back to the Future;1985;17 year old Marty McFly got home early last night. 30 years early.;Michael J. Fox;1961;Marty McFly
Back to the Future;1985;17 year old Marty McFly got home early last night. 30 years early.;Christopher Lloyd;1938;Dr. Emmet Brown</pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Here are the Cypher statements to load this data:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cypher" data-lang="cypher">LOAD CSV WITH HEADERS
FROM 'https://data.neo4j.com/intro-neo4j/movie_actor_roles_to_load.csv'
AS line FIELDTERMINATOR ';'
MERGE (movie:Movie { title: line.title })
ON CREATE SET movie.released = toInteger(line.released),
              movie.tagline = line.summary
MERGE (actor:Person { name: line.actor })
ON CREATE SET actor.born = toInteger(line.birthyear)
MERGE (actor)-[r:ACTED_IN]-&gt;(movie)
ON CREATE SET r.roles = split(line.characters,',')</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice a couple of things in this Cypher statement. This file uses a semi-colon as a field terminator, rather than the default comma. In addition, the built-in method <code>split()</code> is used to create the list for the <em>roles</em> property.</p>
</div>
<div class="paragraph">
<p>Here is the result of loading the <strong>movie_actor_roles_to_load. csv</strong> data into the graph:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="https://s3-us-west-1.amazonaws.com/data.neo4j.com/intro-neo4j/img/loadAll.png" alt="loadAll" width="900">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For large denormalized files, it may still make sense to create nodes and relationships separately in multiple passes.
That would depend on the complexity of the operations and the experienced performance.</p>
</div>
</div>
<div class="sect2">
<h3 id="_importing_a_large_dataset">Importing a large dataset</h3>
<div class="paragraph">
<p>If you import a larger amount of data (more than 10,000 rows), it is recommended to prefix your <code>LOAD CSV</code> clause with a <code>PERIODIC COMMIT</code> hint.
This allows the database to regularly commit the import transactions to avoid memory churn for large transaction-states.</p>
</div>
</div>
<div class="sect2">
<h3 id="_exercise_16_importing_data"><strong>Exercise 16: Importing data</strong></h3>
<div class="paragraph">
<p>In the query edit pane of Neo4j Browser, execute the browser command: <kbd>:play intro-neo4j-exercises</kbd>
and follow the instructions for Exercise 16.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_accessing_neo4j_resources">Accessing Neo4j resources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are many ways that you can learn more about Neo4j. A good starting point for learning about the resources available to you is the <strong>Neo4j Learning Resources</strong> page at  <a href="https://neo4j.com/developer/resources/" class="bare">https://neo4j.com/developer/resources/</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_check_your_understanding">Check your understanding</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_question_1">Question 1</h3>
<div class="paragraph">
<p>What Cypher keyword can you use to prefix any Cypher statement to examine how many db hits occurred when the statement executed?</p>
</div>
<div class="paragraph">
<p>Select the correct answer.</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><input type="checkbox" data-item-complete="0"> <span class="false-answer">ANALYZE</span></p>
</li>
<li>
<p><input type="checkbox" data-item-complete="0"> <span class="false-answer">EXPLAIN</span></p>
</li>
<li>
<p><input type="checkbox" data-item-complete="0"> <span class="required-answer">PROFILE</span></p>
</li>
<li>
<p><input type="checkbox" data-item-complete="0"> <span class="false-answer">MONITOR</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_question_2">Question 2</h3>
<div class="paragraph">
<p>What types of constraints can you define for a graph that are asserted when a node or relationship is created or updated?</p>
</div>
<div class="paragraph">
<p>Select the correct answers.</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><input type="checkbox" data-item-complete="0"> <span class="required-answer">unique values for a property of a node</span></p>
</li>
<li>
<p><input type="checkbox" data-item-complete="0"> <span class="false-answer">unique values for a property of a relationship</span></p>
</li>
<li>
<p><input type="checkbox" data-item-complete="0"> <span class="required-answer">a node must have a certain set of properties with values</span></p>
</li>
<li>
<p><input type="checkbox" data-item-complete="0"> <span class="required-answer">a relationship must have a certain set of properties with values</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_question_3">Question 3</h3>
<div class="paragraph">
<p>In general, what is the maximum number of nodes or relationships that you can easily create using LOAD CSV?</p>
</div>
<div class="paragraph">
<p>Select the correct answer.</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><input type="checkbox" data-item-complete="0"> <span class="false-answer">1K</span></p>
</li>
<li>
<p><input type="checkbox" data-item-complete="0"> <span class="false-answer">10K</span></p>
</li>
<li>
<p><input type="checkbox" data-item-complete="0"> <span class="false-answer">1M</span></p>
</li>
<li>
<p><input type="checkbox" data-item-complete="0"> <span class="required-answer">10M</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You should now be able to:</p>
</div>
<div class="ulist square">
<ul class="square">
<li>
<p>Use parameters in your Cypher statements.</p>
</li>
<li>
<p>Analyze Cypher execution.</p>
</li>
<li>
<p>Monitor queries.</p>
</li>
<li>
<p>Manage constraints and node keys for the graph.</p>
</li>
<li>
<p>Import data into a graph from CSV files.</p>
</li>
<li>
<p>Manage indexes for the graph.</p>
</li>
<li>
<p>Access Neo4j resources.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-11-19 11:39:44 CST
</div>
</div>
</body>
</html>